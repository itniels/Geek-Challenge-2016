@model ICollection<TheGeekStore.Core.Models.PurchaseModel>

<table class="table">
    <tr>
        <th>
            Order ID
        </th>
        <th>
            Order Date
        </th>
        <th>
            Order items
        </th>
        <th>
            Order Total
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                <span>@item.Id</span>
            </td>
            <td>
                <span>@item.PurchaseDate.ToShortDateString()</span>
                <span>@item.PurchaseDate.ToShortTimeString()</span>
            </td>
            <td>
                <span>@item.PurchaseItems.Count</span>
            </td>
            <td>
                <span>$</span><span>@item.GetTotalPrice()</span>
            </td>
            <td>
                <button class="btn btn-sm btn-primary" onclick="showDetailsModal(@item.Id, '@Url.Action("Details")');" data-toggle="modal" data-target="#modalDetails">View Order</button>
            </td>
            
        </tr>
    }
</table>

@if (@Model.Count == 0)
{
    <div class="no-items-found">No orders found!</div>
}